{"version":3,"sources":["components/App/firebase.js","components/App/logo.png","components/Login/Login.js","components/App/useUser.js","components/DrawPrint/SettingsForm.js","components/App/config.js","components/DrawPrint/PlotViewer.js","components/DrawPrint/DrawPrint.js","components/Library/Model/ModelContext.js","components/Library/Model/ModelCard.js","components/Library/Model/ModelList.js","components/Library/Model/ModelPage.js","components/Library/Library.js","components/Navigation/Navigation.js","components/Slicer/Slicer.js","components/DrawApp/Canvas/CanvasContext.js","components/DrawApp/Canvas/Canvas.js","components/DrawApp/Controls/SendToPrintButton.js","components/DrawApp/Controls/Controls.js","components/DrawApp/Header/Header.js","components/DrawApp/DrawApp.js","components/STLGenerator/SettingsForm.js","components/STLGenerator/Viewer.js","components/STLGenerator/STLGenerator.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","auth","db","firestore","storage","analytics","Login","setUser","useState","email","setEmail","password","setPassword","error","setError","handleSubmit","e","a","preventDefault","signInWithEmailAndPassword","then","user","catch","message","className","Form","onSubmit","src","logo","alt","width","Group","controlId","Label","Control","type","placeholder","onChange","target","value","Text","Button","UserContext","createContext","SettingsForm","updatePlot","setDrawSettings","as","Row","column","Col","size","step","defaultValue","delta","e_per_mm","z","f","print_size_mm","table_size_mm","offset_x","offset_y","min","max","tool","onClick","fiestaCloudBackend","PlotViewer","props","useEffect","plotData","fetchError","Alert","variant","data","layout","showlegend","xaxis","scaleanchor","scaleratio","height","window","innerHeight","Spinner","animation","role","reducer","state","item","getGcodeUrl","uid","ref","child","storageUserDrawingGcodeRef","getDownloadURL","console","log","DrawPrint","user_id","useContext","gcodeFileUrl","setGcodeFileUrl","plot","setPlot","setFetchError","useReducer","drawSettings","getUserDrawingPlot","settings","fetch","method","headers","body","JSON","stringify","res","status","json","Error","parse","Sentry","mounted","url","Container","fluid","sm","href","download","disabled","ModelContext","ModelCard","model","setCurrentModel","Card","Img","images","thumbnail","some","el","image","is_thumbnail","getThumbnailImage","Body","Title","name","id","dangerouslySetInnerHTML","__html","description","Badge","print_time","pieces_num","piece_size","colors_num","ModelList","models","setModels","fetchModels","collection","get","docs","forEach","prevState","CardColumns","map","idx","ModelPage","currentModel","cleanCurrentModel","Carousel","Item","files","file","title","Library","useModel","Provider","useStyles","createUseStyles","wrapper","padding","Navigation","classes","removeUser","Navbar","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","Slicer","CanvasContext","React","CanvasProvider","children","isPrepared","setPrepared","isDrawing","setIsDrawing","canvasRef","useRef","contextRef","x","setX","y","setY","stops","setStops","getEventPosition","nativeEvent","offsetX","offsetY","rect","getBoundingClientRect","touches","pageX","left","pageY","top","prepareCanvas","canvas","current","canvasSize","Math","innerWidth","navbarHeight","style","context","getContext","scale","lineCap","strokeStyle","lineWidth","startDrawing","beginPath","moveTo","finishDrawing","closePath","length","clearCanvas","fillStyle","fillRect","draw","lineTo","stroke","useCanvas","Canvas","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchEnd","onTouchMove","SendToPrintButton","isDisabled","setDisabled","sendToDB","doc","set","SendButton","isLoading","setLoading","Controls","fixed","bg","Header","DrawApp","updateSTL","setStlSettings","fontsList","text","depth","foundation_depth","foundation_offset","foundation_joiner_height","text_spacing","font","Viewer","stlUrl","fetchStlError","aspectgRatio","rotationSpeeds","initControlPosition","backgroundColor","fetchRetry","options","retries","ok","STLGenerator","setStlUrl","stlSettings","setfetchStlError","sendGenerateSTL","App","userString","localStorage","getItem","getUser","saveUser","setItem","useUser","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47c4f93a.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nimport \"firebase/analytics\";\n\n\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyDsEXIV0OTzWuRX4XBiVB4a-3w4bP_fnCs\",\n    authDomain: \"chocolate-fiesta-cloud.firebaseapp.com\",\n    projectId: \"chocolate-fiesta-cloud\",\n    storageBucket: \"chocolate-fiesta-cloud.appspot.com\",\n    messagingSenderId: \"419100703725\",\n    appId: \"1:419100703725:web:42a642a456befea15045e4\",\n    measurementId: \"G-FRZNRK641V\"\n};\n\nexport const storageUserFolder = 'user';\nexport const firestoreUserDrawingCollection = 'user-drawing';\nexport const firestoreModelsCollectionPath = 'storage/model-library/public';\nexport const userDrawingGcodeFilename = 'drawing.gcode';\n\nexport const firestoreAutoId = () => {\n    const CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  \n    let autoId = ''\n  \n    for (let i = 0; i < 20; i++) {\n      autoId += CHARS.charAt(\n        Math.floor(Math.random() * CHARS.length)\n      )\n    }\n    return autoId\n  }\n\nfirebase.initializeApp(firebaseConfig);\nexport const auth = firebase.auth();\nexport const db = firebase.firestore();\nexport const storage = firebase.storage();\nexport const analytics = firebase.analytics();\n\nexport const firestoreUserDrawingDocument = (uid) => {\n  return db.collection(firestoreUserDrawingCollection).doc(uid)\n}\n\nexport const firestoreModelsCollection = () => {\n  return db.collection(firestoreModelsCollectionPath)\n}\n\nexport const storageUserDrawingGcodeRef = (uid) => {\n  return storage.ref(storageUserFolder).child(uid).child(userDrawingGcodeFilename)\n}\n","export default __webpack_public_path__ + \"static/media/logo.8bc7b652.png\";","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Login.css';\nimport { auth } from '../App/firebase';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport logo from '../App/logo.png';\n\nexport default function Login({ setUser }) {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await auth.signInWithEmailAndPassword(email, password)\n      .then((user) => {\n        setUser(user);\n      })\n      .catch((error) => {\n        setError(error.message);\n      });\n  }\n\n  return (\n    <div className=\"text-center login-wrapper\">\n        <Form className=\"form-signin\" onSubmit={handleSubmit}>\n          <img className=\"mb-4\" src={logo} alt=\"\" width=\"120\"></img>\n          <h1 className=\"h3 mb-3 font-weight-normal\">Авторизация</h1>\n          <Form.Group controlId=\"inputEmail\">\n            <Form.Label className=\"sr-only\">Email адрес</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={e => setEmail(e.target.value)} />\n            <Form.Text className=\"text-danger\">\n              {error}\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"inputPassword\">\n            <Form.Label className=\"sr-only\">Пароль</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\n          </Form.Group>\n          <Button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\n            Войти\n        </Button>\n        </Form>\n    </div>\n  )\n}\n\nLogin.propTypes = {\n  setUser: PropTypes.func.isRequired\n};","import { useState, createContext } from 'react';\n\n\nexport const UserContext = createContext();\n\nexport function useUser() {\n  const getUser = () => {\n    const userString = localStorage.getItem('user');\n    const user = userString ? JSON.parse(userString) : null;\n    return user\n  };\n  const [user, setUser] = useState(getUser());\n\n  const saveUser = user => {\n    localStorage.setItem('user', JSON.stringify(user));\n    setUser(user);\n  };\n\n  const removeUser = () => {\n    saveUser(null);\n  };\n\n  return {\n    setUser: saveUser,\n    user,\n    removeUser\n  }\n}","import React from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nexport default function SettingsForm({updatePlot, setDrawSettings}) {\n\n    return (\n        <>\n            <Form>\n                <Form.Group as={Row}>\n                    <Form.Label column >Расстояние между узлами, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"0.1\" defaultValue=\"2.0\" onChange={e => setDrawSettings({ delta: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Экструзия, ед./мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"0.01\" defaultValue=\"0.03\" onChange={e => setDrawSettings({ e_per_mm: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Z, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"0.01\" defaultValue=\"0.25\" onChange={e => setDrawSettings({ z: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Float</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"10\" defaultValue=\"2400\" onChange={e => setDrawSettings({ f: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Размер печати, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"120\" onChange={e => setDrawSettings({ print_size_mm: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Размер стола, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"200\" onChange={e => setDrawSettings({ table_size_mm: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Оффсет X, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"0\" onChange={e => setDrawSettings({ offset_x: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Оффсет Y, мм</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"0\" onChange={e => setDrawSettings({ offset_y: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Экструдер</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" min=\"0\" max=\"1\" defaultValue=\"0\" onChange={e => setDrawSettings({ tool: e.target.value })} />\n                    </Col>\n                </Form.Group>\n            </Form>\n            <Button onClick={() => updatePlot()}>Обновить</Button>\n            \n        </>\n    );\n}\n\n\n","export const fiestaCloudBackend = 'https://api.chocolatefiesta.ru';","import React, {useEffect} from 'react';\nimport Plot from 'react-plotly.js';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Alert from 'react-bootstrap/Alert';\n\n\nexport default function PlotViewer(props) {\n    useEffect(() => {}, [props.plotData, props.fetchError]); \n\n    if (props.fetchError) {\n        return (<>\n            <Alert variant='danger'>\n                {props.fetchError}\n            </Alert>\n        </>)\n    }\n\n    if (!props.plotData) {\n        return (<>\n            <Spinner animation=\"border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n            </Spinner>\n        </>)\n      }\n  return (\n    <>\n        <Plot data={props.plotData.data} layout={{ showlegend: false, xaxis: { scaleanchor: \"y\", scaleratio: 1 }, height: window.innerHeight * 0.6 }} />\n    </>\n  );\n}\n","import React, { useContext, useState, useEffect, useReducer } from 'react';\nimport { UserContext } from '../App/useUser'\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport SettingsForm from './SettingsForm';\nimport { storageUserDrawingGcodeRef } from '../App/firebase'\nimport { fiestaCloudBackend } from '../App/config';\nimport PlotViewer from './PlotViewer';\nimport * as Sentry from \"@sentry/react\";\n\n\nfunction reducer(state, item) {\n  return { ...state, ...item }\n}\n\nfunction getGcodeUrl(uid) {\n  return storageUserDrawingGcodeRef(uid).getDownloadURL()\n    .catch(function (error) {\n      console.log(error)\n    })\n}\n\nexport default function DrawPrint() {\n  const { user } = useContext(UserContext);\n  const user_id = user.user.uid;\n  const [gcodeFileUrl, setGcodeFileUrl] = useState('#');\n  const [plot, setPlot] = useState(null);\n  const [fetchError, setFetchError] = useState(null);\n  const [drawSettings, setDrawSettings] = useReducer(reducer, {});\n\n  function getUserDrawingPlot(uid, settings) {\n    setFetchError(null);\n    setFetchError(null);\n    setPlot(null);\n    return fetch(fiestaCloudBackend + '/api/user/' + uid + \"/drawing/\", {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(settings)\n    })\n      .then(res => {\n        console.log(res)\n        if (res.status === 201 || res.status === 200) {\n          return res.json()\n        } else if (res.status === 204) {\n          setFetchError('Рисунок не найден. Перейдите на страницу \"Рисование\" и отправьте рисунок в печать');\n        } else {\n          setFetchError('Ошибка загрузки рисунка. Попробуйте позже.');\n        }\n        throw new Error(res)\n      })\n      .then(data => {\n        setPlot(JSON.parse(data))\n      })\n      .catch(error => {\n        Sentry.captureException(new Error(error));\n      })\n  }\n\n  function updatePlot() {\n    getUserDrawingPlot(user_id, drawSettings)\n    getGcodeUrl(user_id).then(url => setGcodeFileUrl(url));\n  }\n\n  useEffect(() => {\n    let mounted = true;\n    getGcodeUrl(user_id)\n      .then(url => {\n        if (mounted) {\n          setGcodeFileUrl(url)\n        }\n      })\n    getUserDrawingPlot(user_id, {})\n    return () => mounted = false;\n  }, [user_id])\n\n  return (\n    <>\n      <Container fluid=\"xl\">\n        <Row>\n          <Col sm={8}>\n            <PlotViewer fetchError={fetchError} plotData={plot}></PlotViewer>\n          </Col>\n          <Col sm={4} >\n            <SettingsForm updatePlot={updatePlot} setDrawSettings={setDrawSettings} />\n          </Col>\n        </Row>\n        <Row>\n          <Col >\n            <Button as=\"a\" target=\"_blank\" href={gcodeFileUrl} className=\"control-button\" size=\"lg\" variant=\"primary\" download>Скачать GCODE</Button>\n            <Button as=\"a\" target=\"_blank\" href='/draw' className=\"control-button\" size=\"lg\" variant=\"secondary\">Рисование</Button>\n            <Button disabled={true} className=\"control-button\" variant=\"secondary\" size=\"lg\">Отправить в печать</Button>\n          </Col>\n        </Row>\n      </Container>\n\n    </>\n  );\n}\n","import { useState, createContext } from 'react';\n\n\nexport const ModelContext = createContext();\n\nexport function useModel() {\n  const [currentModel, setCurrentModel] = useState(null);\n\n  const cleanCurrentModel = () => {\n    setCurrentModel(null);\n  };\n\n  return {\n    currentModel,\n    setCurrentModel,\n    cleanCurrentModel\n  }\n}","import React, { useContext } from 'react';\nimport { Card, Badge } from 'react-bootstrap';\nimport { ModelContext } from './ModelContext';\n\nexport default function ModelCard({ model, ...props }) {\n    const { setCurrentModel } = useContext(ModelContext);\n\n    function getThumbnailImage(images) {\n        let thumbnail;\n        images.some((el) => {\n            thumbnail = el.image.src;\n            return el.image.is_thumbnail;\n        });\n        return thumbnail;\n    }\n\n    return (\n        <>\n            <Card sm={2} key={model.id} onClick={() => setCurrentModel(model)} role=\"button\">\n                <Card.Img variant=\"top\" src={getThumbnailImage(model.images)} />\n                <Card.Body>\n                    <Card.Title>{model.name} {model.id}</Card.Title>\n                    <Card.Text>\n                        <p dangerouslySetInnerHTML={{ __html: model.description }} />\n                    </Card.Text>\n                    <Badge variant=\"secondary\">{model.print_time} минут</Badge>{' '}\n                    <Badge variant=\"secondary\">{model.pieces_num} шт.</Badge>{' '}\n                    <Badge variant=\"secondary\">{model.piece_size}</Badge>{' '}\n                    <Badge variant=\"secondary\">{model.colors_num}</Badge>{' '}\n                </Card.Body>\n            </Card>\n        </>\n    )\n}\n","import React, { useState, useEffect } from 'react';\nimport { CardColumns } from 'react-bootstrap';\nimport { firestoreModelsCollection } from '../../App/firebase';\nimport ModelCard from './ModelCard';\n\n\nexport default function ModelList() {\n  const [models, setModels] = useState([]);\n\n  const fetchModels = async () => {\n    const data = await firestoreModelsCollection().get();\n    data.docs.forEach(item => {\n      setModels(prevState => {\n        return [...prevState, item.data()];\n      });\n    })\n  }\n\n  useEffect(() => {\n    fetchModels();\n  }, [])\n\n\n  return (\n    <div className=\"wrapper\">\n      <CardColumns>\n\n        {models && models.map((model, idx) => {\n          return (\n            <>\n              <ModelCard key={idx} model={model} />\n            </>\n\n          )\n        }\n        )}\n      </CardColumns>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Button, Carousel, Row, Col, Badge } from 'react-bootstrap';\nimport { ModelContext } from './ModelContext';\n\nexport default function ModelPage() {\n    const { currentModel: model, cleanCurrentModel } = useContext(ModelContext);\n\n    return (\n        <>\n            <Button variant=\"link\" onClick={cleanCurrentModel}>⟵ Вернуться назад</Button>\n            <Row>\n                <Col sm={5}>\n                    <Carousel>\n                        {model.images.map(image => {\n                            return (\n                                <Carousel.Item>\n                                    <img\n                                        className=\"d-block w-100\"\n                                        src={image.image.src}\n                                        alt=\"First slide\"\n                                    />\n                                </Carousel.Item>)\n                        })}\n                    </Carousel>\n                </Col>\n                <Col sm={7} >\n                    <h2>{model.name}</h2>\n                    <p dangerouslySetInnerHTML={{ __html: model.description }} />\n                    <h4>\n                        <Badge variant=\"secondary\">{model.print_time} минут</Badge>{' '}\n                        <Badge variant=\"secondary\">{model.pieces_num} шт.</Badge>{' '}\n                        <Badge variant=\"secondary\">{model.piece_size}</Badge>{' '}\n                        <Badge variant=\"secondary\">{model.colors_num}</Badge>{' '}\n                    </h4>\n                    <h4>Файлы</h4>\n                    <ul>\n                        {model.files.map(file => {\n                            return (\n                                <li>\n                                    <Button as=\"a\" target=\"_blank\" variant=\"link\" href={file.file.src} download={file.file.title}>\n                                        {file.name || file.file.title}\n                                    </Button>\n                                </li>\n                            )\n                        })}\n                    </ul>\n                </Col>\n            </Row>\n        </>\n    )\n}\n","import React from 'react';\nimport ModelList from './Model/ModelList';\nimport ModelPage from './Model/ModelPage';\nimport './Library.css';\nimport { ModelContext, useModel } from './Model/ModelContext';\nimport { Container } from 'react-bootstrap';\n\n\nexport default function Library() {\n  const { currentModel, setCurrentModel, cleanCurrentModel } = useModel();\n\n  if (!currentModel) {\n    return (\n      <div className=\"wrapper\">\n        <ModelContext.Provider value={{ currentModel, setCurrentModel, cleanCurrentModel }} >\n          <Container fluid=\"xl\" >\n            <h2>Библиотека моделей</h2>\n            <ModelList />\n          </Container>\n\n        </ModelContext.Provider>\n      </div >\n\n    );\n  }\n\n  return (\n    <div className=\"wrapper\">\n      <ModelContext.Provider value={{ currentModel, setCurrentModel, cleanCurrentModel }} >\n        <Container fluid=\"xl\" >\n          <ModelPage />\n        </Container>\n\n\n      </ModelContext.Provider>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { UserContext } from '../App/useUser';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n    wrapper: {\n        padding: [15],\n    }\n});\n\nexport default function Navigation() {\n    const classes = useStyles();\n    const { user, removeUser } = useContext(UserContext);\n    return (\n        <div className={classes.wrapper}>\n            <Navbar className=\"justify-content-between\" expand=\"lg\">\n                <Navbar.Brand href=\"/\">\n                    Chocolate Fiesta Cloud β\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                        <Nav.Link href=\"/library\">Models Library</Nav.Link>\n                        <Nav.Link href=\"/draw-print\">Drawing Print</Nav.Link>\n                        <Nav.Link href=\"/stl-generator\">3D Text Generator</Nav.Link>\n                        {/* <Nav.Link href=\"#\">Слайсер</Nav.Link> */}\n                    </Nav>\n                    <Nav className=\"ml-auto\">\n                        <Nav.Link disabled={true}>You are logged in as {user.user.email}</Nav.Link>\n                        <Nav.Link onClick={removeUser}>Log out</Nav.Link>\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        </div>\n    );\n}","import React from 'react';\nimport './Slicer.css';\n\n\nexport default function Slicer() {\n    return (\n        <div className=\"dash-wrapper\">\n            <h2>Привет, это Chocolate Fiesta Cloud</h2>\n        </div>\n    );\n}\n","import React, { useContext, useRef, useState } from \"react\";\n\nexport const CanvasContext = React.createContext();\n\n\nexport const CanvasProvider = ({ children }) => {\n  const [isPrepared, setPrepared] = useState(false)\n  const [isDrawing, setIsDrawing] = useState(false)\n  const canvasRef = useRef(null);\n  const contextRef = useRef(null);\n  const [x, setX] = useState([]);\n  const [y, setY] = useState([]);\n  const [stops, setStops] = useState([]);\n\n  const prepareCanvas = () => {\n    if (isPrepared) { return }\n    const navbarHeight = 64;\n    const canvas = canvasRef.current\n    const canvasSize = Math.min(window.innerWidth, window.innerHeight - navbarHeight * 2)\n    canvas.width = canvasSize * 2;\n    canvas.height = canvasSize * 2;\n    canvas.style.width = `${canvasSize}px`;\n    canvas.style.height = `${canvasSize}px`;\n\n    const context = canvas.getContext(\"2d\")\n    context.scale(2, 2);\n    context.lineCap = \"round\";\n    context.strokeStyle = \"brown\";\n    context.lineWidth = 14;\n    contextRef.current = context;\n    setPrepared(true);\n  };\n\n  const startDrawing = ({ nativeEvent }) => {\n    const { offsetX, offsetY } = getEventPosition(nativeEvent);\n    contextRef.current.beginPath();\n    contextRef.current.moveTo(offsetX, offsetY);\n    setIsDrawing(true);\n  };\n\n  const finishDrawing = () => {\n    contextRef.current.closePath();\n    setIsDrawing(false);\n    setStops([...stops, x.length - 1]);\n  };\n\n  const draw = ({ nativeEvent }) => {\n    if (!isDrawing) {\n      return;\n    }\n    const { offsetX, offsetY } = getEventPosition(nativeEvent);\n    contextRef.current.lineTo(offsetX, offsetY);\n    contextRef.current.stroke();\n    setX([...x, offsetX]);\n    setY([...y, offsetY]);\n  };\n\n  const getEventPosition = (nativeEvent) => {\n    console.log(nativeEvent.type);\n    if (nativeEvent.type === \"mousemove\" || nativeEvent.type === \"mousedown\") {\n      const { offsetX, offsetY } = nativeEvent;\n      return {offsetX, offsetY}\n    } else if (nativeEvent.type === \"touchstart\" || nativeEvent.type === \"touchmove\") {\n      const rect = nativeEvent.target.getBoundingClientRect(); \n      const offsetX = nativeEvent.touches[0].pageX - rect.left;\n      const offsetY = nativeEvent.touches[0].pageY - rect.top;;\n      return {offsetX, offsetY}\n    }\n  };\n\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\")\n    context.fillStyle = \"white\"\n    context.fillRect(0, 0, canvas.width, canvas.height)\n    setX([]);\n    setY([]);\n    setStops([]);\n  }\n\n  return (\n    <CanvasContext.Provider\n      value={{\n        canvasRef,\n        contextRef,\n        x,\n        y,\n        stops,\n        isPrepared,\n        prepareCanvas,\n        startDrawing,\n        finishDrawing,\n        clearCanvas,\n        draw\n      }}\n    >\n      {children}\n    </CanvasContext.Provider>\n  );\n};\n\nexport const useCanvas = () => useContext(CanvasContext);\n","import React, { useEffect } from \"react\";\nimport { useCanvas } from \"./CanvasContext\";\nimport \"./Canvas.css\";\n\nexport function Canvas() {\n  const {\n    canvasRef,\n    prepareCanvas,\n    startDrawing,\n    finishDrawing,\n    draw,\n  } = useCanvas();\n\n  useEffect(prepareCanvas, [prepareCanvas]);\n\n  return (\n    <canvas\n      onMouseDown={startDrawing}\n      onMouseUp={finishDrawing}\n      onMouseMove={draw}\n\n      onTouchStart={startDrawing}\n      onTouchEnd={finishDrawing}\n      onTouchMove={draw}\n\n      ref={canvasRef}\n    />\n  );\n}","import React, { useContext, useState, useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\n\nimport \"./Controls.css\"\nimport { useCanvas } from '../Canvas/CanvasContext'\nimport { UserContext } from '../../App/useUser';\nimport { firestoreUserDrawingDocument } from '../../App/firebase'\n\n\nexport function SendToPrintButton() {\n  const { user } = useContext(UserContext);\n  const { x, y, stops } = useCanvas();\n  const [isDisabled, setDisabled] = useState(false);\n\n  useEffect(() => {\n    setDisabled(false);\n  }, [x])\n\n  function sendToDB() {\n    return firestoreUserDrawingDocument(user.user.uid)\n      .set({\n        x: x,\n        y: y,\n        stops: stops\n      })\n  }\n\n  function SendButton() {\n    const [isLoading, setLoading] = useState(false);\n    \n    useEffect(() => {\n      if (isLoading) {\n        sendToDB().then(() => {\n          setLoading(false);\n          setDisabled(true);\n        });\n      }\n    }, [isLoading]);\n\n    const handleClick = () => {\n      setLoading(true);\n    }\n\n    return (\n      <Button\n        disabled={isLoading || isDisabled || x.length === 0}\n        className=\"control-button\" size=\"lg\" variant=\"success\"\n        onClick={!isLoading ? handleClick : null}\n      >\n        {isLoading ? 'Отправка...' : isDisabled ? 'Отправлено' : 'Отправить в печать'}\n      </Button>\n    );\n  }\n\n  return (<SendButton />);\n}\n","import React from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport \"./Controls.css\"\nimport { useCanvas } from '../Canvas/CanvasContext'\nimport { SendToPrintButton } from \"./SendToPrintButton\";\n\nexport function Controls() {\n  const { x, clearCanvas } = useCanvas()\n  return (\n    <>\n      <div className=\"controls-wrapper\">\n        <Navbar fixed=\"bottom\" bg=\"dark\" className=\"justify-content-center\">\n          <Nav>\n            <Button onClick={clearCanvas} disabled={x.length === 0} className=\"control-button\" size=\"lg\" variant=\"light\">Очистить</Button>\n            <SendToPrintButton />\n          </Nav>\n        </Navbar>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\n\nexport function Header() {\n    return (\n        <>\n            <div>\n                <Navbar bg=\"dark\" variant=\"dark\" className=\"justify-content-center\">\n                    <Navbar.Brand href=\"/\">\n                        Chocolate Fiesta Draw\n                    </Navbar.Brand>\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n                        <Nav className=\"ml-auto\">\n                            <Nav.Link href=\"/draw-print\">Перейти к печати</Nav.Link>\n                        </Nav>\n                    </Navbar.Collapse>\n                </Navbar>\n            </div>\n        </>\n    );\n}\n","import React from 'react'\nimport { Canvas } from './Canvas/Canvas'\nimport { Controls } from './Controls/Controls'\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { CanvasProvider } from \"./Canvas/CanvasContext\";\nimport { firebaseConfig } from '../App/firebase'\nimport { FirestoreProvider } from \"@react-firebase/firestore\";\nimport \"./DrawApp.css\"\nimport { Header } from './Header/Header';\n\n\nfunction DrawApp() {\n  return (\n    <>\n    <div className=\"draw-app-wrapper\">\n      <FirestoreProvider {...firebaseConfig} firebase={firebase}>\n        <CanvasProvider>\n          <Header />\n          <Canvas />\n          <Controls />\n        </CanvasProvider>\n      </FirestoreProvider>\n      </div>\n    </>\n  );\n}\n\nexport default DrawApp;\n","import React from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nexport default function SettingsForm({ updateSTL, setStlSettings }) {\n    const fontsList = [\n        {\"value\": \"Pacifico\", \"title\": \"Pacifico\"},\n        {\"value\": \"Liberation Sans:style=Bold\", \"title\": \"Sans Bold\"},\n        {\"value\": \"Liberation Serif:style=Bold\", \"title\": \"Serif Bold\"},\n    ]\n\n    return (\n        <>\n            <Form>\n                <Form.Group as={Row}>\n                    <Form.Label column >Text</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"text\" defaultValue=\"Chocolate Fiesta\" onChange={e => setStlSettings({ text: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Heigth, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"5\" onChange={e => setStlSettings({ depth: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Width, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"100\" onChange={e => setStlSettings({ width: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Heigth of foundation, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"10\" defaultValue=\"2\" onChange={e => setStlSettings({ foundation_depth: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Width of foundation, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"0.1\" defaultValue=\"2\" onChange={e => setStlSettings({ foundation_offset: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Word merger foundation width, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" step=\"1\" defaultValue=\"7\" onChange={e => setStlSettings({ foundation_joiner_height: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Letter spacing, mm</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" type=\"number\" defaultValue=\"1.0\" onChange={e => setStlSettings({ text_spacing: e.target.value })} />\n                    </Col>\n                </Form.Group>\n                <Form.Group as={Row}>\n                    <Form.Label column >Font</Form.Label>\n                    <Col >\n                        <Form.Control size=\"sm\" as=\"select\" defaultValue={fontsList[0].value} onChange={e => setStlSettings({ font: e.target.value })}>\n                            {fontsList.map(font => {\n                                return (<option value={font.value}>{font.title}</option>)\n                            })}\n                        </Form.Control>\n                    </Col>\n                </Form.Group>\n            </Form>\n            <Button onClick={() => updateSTL()}>Generate</Button>\n        </>\n    );\n}\n","import { ModelViewer } from 'react-3d-model-viewer'\nimport React, { useEffect } from 'react';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Alert from 'react-bootstrap/Alert';\n\nimport \"./STLGenerator.css\"\n\nexport default function Viewer(props) {\n    useEffect(() => { }, [props.stlUrl, props.fetchStlError]);\n\n    if (props.fetchStlError) {\n        return (<>\n            <Alert variant='danger'>\n                Возникла ошибка генерации модели, пожалуйста, попробуйте снова.\n            </Alert>\n        </>)\n    }\n\n    if (props.stlUrl === '') {\n        return (<>\n            <Alert variant='primary'>\n                Выполняется генерация модели. Процесс может занять до 1 минуты.\n            </Alert>\n            <Spinner animation=\"border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n            </Spinner>\n        </>)\n    }\n    return (\n        <>\n            <ModelViewer width=\"100%\" aspectgRatio=\"100%\" rotationSpeeds={[0, 0, 0]} initControlPosition={[0, 0, 0.4]} backgroundColor=\"#ffffff\" url={props.stlUrl} />\n        </>\n    );\n}\n","import React, { useContext, useState, useEffect, useReducer } from 'react';\nimport { UserContext } from '../App/useUser'\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\n\nimport SettingsForm from './SettingsForm';\nimport \"./STLGenerator.css\"\nimport { fiestaCloudBackend } from '../App/config';\nimport Viewer from './Viewer';\nimport * as Sentry from \"@sentry/react\";\n\n\nfunction reducer(state, item) {\n  return { ...state, ...item }\n}\n\nfunction fetchRetry(url, options = {}, retries = 3) {\n  return fetch(url, options)\n    .then(res => {\n      if (res.ok) {\n        return res.json()\n      }\n      if (retries > 0) {\n        return fetchRetry(url, options, retries - 1)\n      } else {\n        throw new Error(res)\n      }\n    })\n    .catch(error => {\n      if (retries > 0) {\n        return fetchRetry(url, options, retries - 1)\n      } else {\n        throw new Error(error)\n      }\n    }\n    )\n}\n\nexport default function STLGenerator() {\n  const { user } = useContext(UserContext);\n  const user_id = user.user.uid;\n  const [stlUrl, setStlUrl] = useState('');\n  const [stlSettings, setStlSettings] = useReducer(reducer, {});\n  const [fetchStlError, setfetchStlError] = useState(false);\n\n  function sendGenerateSTL(uid, settings) {\n    setStlUrl('');\n    setfetchStlError(false);\n    return fetchRetry(fiestaCloudBackend + '/api/stl-generator/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(settings),\n    })\n      .then(data => {\n        if (data) {\n          setStlUrl(data.url)\n        } else {\n          setfetchStlError(true);\n          Sentry.captureException(new Error(data));\n        }\n      })\n      .catch(error => {\n        setfetchStlError(true);\n        Sentry.captureException(new Error(error));\n      })\n  }\n\n  function updateSTL() {\n    sendGenerateSTL(user_id, stlSettings);\n  }\n\n  useEffect(() => {\n    let mounted = true;\n    sendGenerateSTL(user_id, {}).then(data => {\n      if (mounted && data != null) {\n        setStlUrl(data.url)\n      }\n    });\n    return () => mounted = false;\n  }, [user_id])\n\n  return (\n    <>\n      <Container fluid=\"xl\" className=\"stl-generator-wrapper\">\n        <Row>\n          <Col sm={7}>\n            <Viewer fetchStlError={fetchStlError} stlUrl={stlUrl}></Viewer>\n          </Col>\n          <Col sm={5} >\n            <SettingsForm updateSTL={updateSTL} setStlSettings={setStlSettings} />\n          </Col>\n        </Row>\n        <Row>\n          <Col >\n            <Button as=\"a\" target=\"_blank\" href={stlUrl} className=\"control-button\" size=\"lg\" variant=\"primary\" download>Download STL</Button>\n            <Button disabled={true} className=\"control-button\" size=\"lg\" variant=\"primary\">Send to printer</Button>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport './App.css';\nimport Login from '../Login/Login';\nimport DrawPrint from '../DrawPrint/DrawPrint';\nimport Library from '../Library/Library';\nimport Navigation from '../Navigation/Navigation';\nimport Slicer from '../Slicer/Slicer';\nimport { useUser, UserContext } from './useUser';\nimport DrawApp from '../DrawApp/DrawApp';\nimport STLGenerator from '../STLGenerator/STLGenerator';\n\nfunction App() {\n  const { user, setUser, removeUser } = useUser();\n\n  if (!user) {\n    return <Login setUser={setUser} />\n  }\n\n  return (\n    <>\n      <UserContext.Provider value={{ user, setUser, removeUser }} >\n\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/draw\">\n              <DrawApp />\n            </Route>\n            <Route path=\"/\">\n              <Navigation />\n              <Route exact path=\"/\">\n                <DrawPrint />\n              </Route>\n              <Route path=\"/draw-print\">\n                <DrawPrint />\n              </Route>\n              <Route path=\"/library\">\n                <Library />\n              </Route>\n              <Route path=\"/slicer\">\n                <Slicer />\n              </Route>\n              <Route path=\"/stl-generator\">\n                <STLGenerator />\n              </Route>\n            </Route>\n\n          </Switch>\n        </BrowserRouter>\n      </UserContext.Provider>\n    </>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nSentry.init({\n  dsn: \"https://671da45dc307486090d441b0ff074028@o528559.ingest.sentry.io/5646853\",\n  integrations: [new Integrations.BrowserTracing()],\n  tracesSampleRate: 1.0,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}